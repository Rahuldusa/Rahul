<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LMS</title>
  </head>
  {% include 'adminmenu.html' %}
  {% include 'cdnlines.html' %}

  <style media="screen">
  .r2{
    background-color:#EFF4F5;
    height: auto;
    padding-top:30px;
  }
  .r3{
    background-color:#EFF4F5;
    height: 100px;

  }
  .form-control{
    width: 100%;
    height: auto;
    border:1px solid black;
    border-radius: 15px;

    background-color: white;
  }
  .form-control:hover{
    box-shadow:0px 0px 40px white;
  }
  .ipadview_and_desktop {
        display: none;
    }

    .btn{
      margin-top: 5px;
      margin-bottom: 10px;
    }


    /* Style for desktop view */
    @media (min-width: 767px) {
        .ipadview_and_desktop {
            display: block;
        }
        .mobile {
            display: none;
        }
        .form-control{
          font-size: 14px;
          width: 100%;
        }
        label{
          margin-left: 0px;
        }

        #left{
          margin-left: 20px;
        }

    }

    /* Style for iPad view */
    @media (max-width: 550px){
      .mobile {
          display: block;
      }
      .ipadview_and_desktop {
          display: none;
      }
      .form-control{
        font-size: 12px;
      }

    }

  </style>

  <body>
    <div class="container-fluid mobile">
      <div class="row r2">
        <div class="col-1"></div>
        <div class="col-10">
          <h4 id='welcome' >Welcome {{user}}</h4>
          <form class="form-control" action="" method="post">
            <center>
              <h5>Update Employee</h5>
            </center>
              {% csrf_token %}

              <label for="emp_id">Employee ID:</label>
              <input value="{{data.emp_id}}"   class="form-control" type="text" id="emp_id1" name="emp_id" required><br>
              {% if error_message_emp_id %}
                <p style='color:red; font-size: 12px; '>{{error_message_emp_id}}</p>
                {% endif %}

                {% if error_message_emp_exist %}
                  <p style='color:red; font-size: 12px; '>{{error_message_emp_exist}}</p>
                  {% endif %}

              <label id="emp" for="first_name">First Name:</label>
              <input value="{{data.emp}}"   class="form-control" id="first_name1" type="text" name="first_name" required><br>

              <label for="last_name">Last Name:</label>
              <input value="{{data.last_name}}"   class="form-control"  id="last_name1" type="text" name="last_name" required><br>

              <label for="email">Email:</label>
              <input value="{{data.email}}"   class="form-control"  id="email1" type="email" name="email" required><br>

              <label for="gender">Gender:</label>
              <select value="{{data.gender}}"    class="form-control"  id="gender1" name="gender" required>
              <option value="{{data.gender}}">{{data.gender}}</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
              <option value="others">Others</option>
            </select><br>

              <label for="dob">Date of Birth:</label>
              <input value="{{data.dob}}"   class="form-control"  id="dob1" type="date" name="dob" required><br>
              {% if error_message_dob %}
                <p style='color:red; font-size: 12px; '>{{error_message_dob}}</p>
                {% endif %}


              <label for="dep">Department:</label>

              <select value="{{data.dep}}"   class="form-control"  id="dep1" class="dep" name="dep">
                <option value="{{data.dep}}">{{data.dep}}</option>
                {% for i in dep_select_name %}

                <option  value="{{data.dep}}">{{i.dep_name}}</option>
                {% endfor %}
              </select><br>


              <label for="address">Address:</label>
              <input value="{{data.address}}"   class="form-control"  id="address1" type="text" name="address"><br>

              <label for="city">City:</label>
              <input value="{{data.city}}"   class="form-control"  id="city1" type="text" name="city"><br>

              <label for="country">Country:</label>
              <input value="{{data.country}}"   class="form-control"  id="country1" type="text" name="country"><br>

              <label for="mobile_number">Mobile Number:</label>
              <input  value="{{data.mobile_number}}"  class="form-control"  id="mobile_number" type="text" name="mobile_number" required><br>



              <center>
              <button type="submit" name="button" class="btn btn-sm btn-primary text-white small-btn small-btn">Update</button>
              <button type="reset" name="button" class="btn btn-sm btn-danger text-white small-btn small-btn">Clear</button>
              <a href="{% url 'admin_dashboard' %}" class="btn btn-sm btn-secondary small-btn">Dashboard</a>
              </center>

          </form>
          {% if success_message %}
          <script>
          // JavaScript code to display the success message as an alert
            window.onload = function() {
              alert("{{ success_message }}");
              window.location.href = "{% url 'manage_emp' %}";
            };
            </script>
        {% endif %}
        {% if error_message %}
          <script>
            // JavaScript code to display the success message as an alert
            window.onload = function() {
              alert("{{ error_message }}");
            };
            </script>
        {% endif %}
        </div>
        <div class="col-1"></div>

      </div>
      <div class="row r3"></div>
    </div>


    <div class="container-fluid ipadview_and_desktop">
      <div class="row r2">
        <div class="col-md-2"></div>
        <div class="col-md-10">
          <h4 id='welcome' >Welcome {{user}}</h4>
          <form class="form-control" action="" method="post">
            <center>
              <h5>Update Employee</h5>
            </center>
              {% csrf_token %}
              
              {% if error_message_emp_id %}
                <p style='color:red; font-size: 12px; margin-top:10px; '>{{error_message_emp_id}}</p>
              {% endif %}

              {% if error_message_emp_exist %}
                <p style='color:red; font-size: 12px; margin-top:10px;'>{{error_message_emp_exist}}</p>
              {% endif %}

              {% if error_message_dob %}
                <p style='color:red; font-size: 12px; '>{{error_message_dob}}</p>
              {% endif %}

              <label id="left" for="emp_id">Employee ID:</label>
              <input style="width:90px; height:20px; margin-top:10px;" value="{{data.emp_id}}" id="emp_id" type="text" name="emp_id" required><br>
              

              <label id="left"  for="first_name">First Name:</label>
              <input value="{{data.first_name}}"  style="width:130px; margin-left: 12px; height:20px; margin-top:10px;"  id="first_name" type="text" name="first_name" required>

              <label style="margin-left:120px;" for="last_name">Last Name:</label>
              <input  value="{{data.last_name}}"  style="width:130px; margin-left: 13px;  height:20px; margin-top:10px;" id="last_name" type="text" name="last_name" required><br>

              <label id="left"  for="email">Email:</label>
              <input  value="{{data.email}}"  style="width:130px; margin-left: 45px;  height:20px; margin-top:10px;"  id="email" type="email" name="email" required>

              <label style="margin-left:120px;" for="gender">Gender:</label>
              <select  value="{{data.gender}}"  style="width:130px; margin-left: 33px;  height:20px; margin-top:10px;" id="gender" name="gender" required>
              <option value="{{data.gender}}">{{data.gender}}</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
              <option value="others">Others</option>
              </select><br>

              <label id="left"  for="dob">Date of Birth:</label>
              <input  value="{% if data.dob %}{{ data.dob|date:'Y-m-d' }}{% endif %}"  style="width:130px; height:20px; margin-top:10px;" id="dob" type="date" name="dob" required>
              


              <label style="margin-left:120px;" for="dep">Department:</label>

              <select    style="width:130px; margin-left: 5px;  height:20px; margin-top:10px;" id="dep" class="dep" name="dep">
                <option value="{{data.dep}}">{{data.dep}}</option>
                {% for i in dep_select_name %}
                <option  value="{{i.dep_name}}">{{i.dep_name}}</option>
                {% endfor %}
              </select><br>


              <label id="left"  for="address">Address:</label>
              <input  value="{{data.address}}"  style="width:220px; margin-left: 28px; height:20px; margin-top:10px;" id="address" type="text" name="address"><br>

              <label id="left"  for="city">City:</label>
              <input  value="{{data.city}}"  style="width:130px; margin-left: 55px; height:20px; margin-top:10px;" id="city" type="text" name="city">

              <label style="margin-left:120px;" for="country">Country:</label>
              <input value="{{data.country}}"  style="width:130px;  margin-left: 30px;  height:20px; margin-top:10px;" id="country" type="text" name="country"><br>

              <label id="left"  for="mobile_number">Mobile No:</label>
              <input value="{{data.mobile_number}}"  style="width:130px; margin-left: 12px; height:20px; margin-top:10px;" id="mobile_number" type="text" maxlength="10" name="mobile_number" required>





              <center>

              <button type="submit" name="button" class="btn btn-sm btn-primary text-white small-btn small-btn">Update</button>
              <button type="reset" name="button" class="btn btn-sm btn-danger text-white small-btn small-btn">Clear</button>
              <a href="{% url 'admin_dashboard' %}" class="btn btn-sm btn-secondary small-btn">Dashboard</a>
              </center>


          </form>
          {% if success_message %}
          <script>
          // JavaScript code to display the success message as an alert
            window.onload = function() {
              alert("{{ success_message }}");
              window.location.href = "{% url 'manage_emp' %}";
            };
            </script>
        {% endif %}
        {% if error_message %}
          <script>
            // JavaScript code to display the success message as an alert
            window.onload = function() {
              alert("{{ error_message }}");
            };
            </script>
        {% endif %}
        </div>

      </div>
      <div class="row r3"></div>
    </div>



  </body>
</html>
